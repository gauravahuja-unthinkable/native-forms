var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray")),_objectSpread4=_interopRequireDefault(require("@babel/runtime/helpers/objectSpread")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_react=_interopRequireWildcard(require("react")),_reactNative=require("react-native"),_theme=require("../theme"),_QuestionHeader=_interopRequireDefault(require("../components/QuestionHeader")),_helpers=require("../helpers"),_InputField=_interopRequireDefault(require("../components/Form/InputField")),_utils=require("../utils"),_FadeInView=_interopRequireDefault(require("../components/FadeInView")),Contact=function(a){var b=a.block,c=a.form,d=a.isPreview,e=a.currentPageIndex,f=a.blockIndex,g=a.onFocus,h=a.onBlur,i=a.allBlocks,j=a.showSelectionDialog,k=a.conditions,l=a.onFormValueChange,m=c||{},n=m.color,o=void 0===n?_theme.colors.main:n,p=m.textColor,q=void 0===p?_theme.colors.primary:p,r=m.backgroundColor,s=void 0===r?_theme.colors.white:r,t=b.value,u=(0,_react.useState)(t.map(function(a){return a.value||""})),v=(0,_slicedToArray2.default)(u,2),w=v[0],x=v[1],y=(0,_react.useState)({}),z=(0,_slicedToArray2.default)(y,2),A=z[0],B=z[1],C=function(a,b,c){return function(){if((h&&h(),!d)&&"email"===a){var e=(0,_theme.validateEmail)(b.value);e?B({}):(A[c]="Invalid email address format.",B((0,_objectSpread4.default)({},A)))}}},D=function(a){return function(c){b.value[a].value=c,w[a]=c,l&&l(b),x((0,_toConsumableArray2.default)(w))}};return _react.default.createElement(_FadeInView.default,null,_react.default.createElement(_QuestionHeader.default,{form:c,block:b,currentPageIndex:e,blockIndex:f,allBlocks:i}),_react.default.createElement(_reactNative.View,{style:styles.inputContainer},t.map(function(a,b){var c=a.isRequired,e=a.question,f=a.multiline,h=a.select,i=(0,_objectWithoutProperties2.default)(a,["isRequired","question","multiline","select"]);if((0,_utils.isLockedUnderCondition)(k,e))return null;var l=(0,_helpers.returnInputName)(e),m=(0,_objectSpread4.default)({onChangeText:D(b),onValueChange:D(b),onFocus:g,value:w[b],required:c,editable:!d,enabled:!d,isPreview:d,onBlur:C(l,a,b),error:A[b],name:l,label:e,textColor:q,color:o,backgroundColor:s,showSelectionDialog:j},i);return _react.default.createElement(_InputField.default,(0,_extends2.default)({select:h,multiline:f,key:b},m))})))},styles=_reactNative.StyleSheet.create({inputContainer:{width:"100%",backgroundColor:"transparent",paddingVertical:22,paddingHorizontal:22,maxWidth:_theme.MAX_FORM_WIDTH}}),_default=(0,_react.memo)(Contact);exports.default=_default;