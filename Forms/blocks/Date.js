var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_react=_interopRequireWildcard(require("react")),_reactNative=require("react-native"),_theme=require("../theme"),_QuestionHeader=_interopRequireDefault(require("../components/QuestionHeader")),_DatePicker=_interopRequireDefault(require("../components/DatePicker")),_time=require("../components/DatePicker/time"),_dataSource=require("../components/DatePicker/dataSource"),_FadeInView=_interopRequireDefault(require("../components/FadeInView")),DatePickerBlock=function(a){var b=a.block,c=a.form,d=a.isPreview,e=a.currentPageIndex,f=a.blockIndex,g=a.allBlocks,h=a.onFormValueChange,i=(0,_react.useState)(b.time||new Date().getTime()),j=(0,_slicedToArray2.default)(i,2),k=j[0],l=j[1],m=c||{},n=m.color,o=void 0===n?_theme.colors.main:n,p=m.textColor,q=void 0===p?_theme.colors.primary:p,r=b.hours,s=b.timezone||(0,_time.returnTimeZone)();(0,_react.useEffect)(function(){var a=b.time||new Date().getTime();b.value=(0,_time.getDayFormat)(new Date(a),r,s),b.time=a,b.timezone=s,l(a)},[b,r,s]);return _react.default.createElement(_FadeInView.default,null,_react.default.createElement(_QuestionHeader.default,{form:c,block:b,currentPageIndex:e,blockIndex:f,allBlocks:g}),_react.default.createElement(_reactNative.View,{style:styles.inputContainer},_react.default.createElement(_DatePicker.default,{value:new Date(k),onChange:function _onDateSelect(a){var c=a.getTime();b.value=(0,_time.getDayFormat)(a,r,s),b.time=c,b.timezone=s,h&&h(b),l(c)},dateConfig:r?_dataSource.DATE_HOURS_CONFIG:_dataSource.DEFAULT_DATE_CONFIG,color:o,textColor:q,isPreview:d})))},styles=_reactNative.StyleSheet.create({inputContainer:{display:"flex",width:"100%",backgroundColor:"transparent",alignItems:"flex-start",maxWidth:_theme.MAX_FORM_WIDTH,paddingHorizontal:12,paddingVertical:24}}),_default=(0,_react.memo)(DatePickerBlock);exports.default=_default;