var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_react=_interopRequireWildcard(require("react")),_reactNative=require("react-native"),_theme=require("../theme"),_QuestionHeader=_interopRequireDefault(require("../components/QuestionHeader")),_utils=require("../utils"),_FadeInView=_interopRequireDefault(require("../components/FadeInView")),Open=function(a){var b=a.block,c=a.form,d=a.isPreview,e=a.currentPageIndex,f=a.blockIndex,g=a.onFocus,h=a.onBlur,i=a.allBlocks,j=a.onFormValueChange,k=(0,_react.useState)(!1),l=(0,_slicedToArray2.default)(k,2),m=l[0],n=l[1],o=(0,_react.useState)(b.value),p=(0,_slicedToArray2.default)(o,2),q=p[0],r=p[1],s=c||{},t=s.backgroundColor,u=void 0===t?_theme.colors.white:t,v=s.color,w=void 0===v?_theme.colors.main:v,x=s.textColor,y=void 0===x?_theme.colors.primary:x,z=b.placeholder,A=void 0===z?"":z,B=b.isRequired;(0,_react.useEffect)(function(){!q&&b.value&&r(b.value)},[b.value,q]);var C=(0,_utils.lightOrDark)(u),D={color:y,borderColor:"dark"===C?_theme.colors.darkgrey:_theme.colors.buttonBorder,backgroundColor:u};return _react.default.createElement(_FadeInView.default,null,_react.default.createElement(_QuestionHeader.default,{form:c,block:b,currentPageIndex:e,blockIndex:f,allBlocks:i}),_react.default.createElement(_reactNative.View,{style:styles.inputContainer},_react.default.createElement(_reactNative.TextInput,{editable:!d,style:[D,styles.textArea],onChangeText:function updateInput(a){b.value=a,j&&j(b),r(a)},value:q,onFocus:function onInputFocus(){g&&g(),n(!1)},onBlur:function onInputBlur(){h&&h(),B&&!b.value&&n("This field is required")},multiline:!0,numberOfLines:5,placeholder:A,selectionColor:w,underlineColorAndroid:"transparent",textAlignVertical:"top"}),m&&_react.default.createElement(_reactNative.Text,{style:styles.error},m)))},styles=_reactNative.StyleSheet.create({inputContainer:{display:"flex",width:"100%",backgroundColor:"transparent",alignItems:"flex-start",maxWidth:_theme.MAX_FORM_WIDTH,paddingHorizontal:22,paddingVertical:24},textArea:{borderWidth:1,borderStyle:"solid",borderRadius:6,fontSize:15,lineHeight:20,padding:12,width:"100%",marginVertical:4,minHeight:120},error:{fontSize:12,backgroundColor:_theme.colors.required,color:_theme.colors.white,paddingHorizontal:12,paddingVertical:4,borderRadius:20,marginTop:4}}),_default=(0,_react.memo)(Open);exports.default=_default;