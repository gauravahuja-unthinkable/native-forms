var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_react=_interopRequireWildcard(require("react")),_reactNative=require("react-native"),_theme=require("../../theme"),arrow="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGYAAADPCAMAAAAwElR2AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABIUExURUdwTENDQ0RERENDQ0FBQRgYGEJCQkRERERERDg4OENDQ0RERENDQ0REREREREJCQkJCQkNDQ0NDQ0NDQ0NDQ0VFRUNDQ0REROa4/8UAAAAXdFJOUwBUyhEjAjVA9gisgu503hlhlL6g2D/joX1STAAAAYxJREFUGBntwVeS2zAUBMBhAA0wJ2nuf1N7VRukFUWyCnj68XRDREREREREREREREREzJR4B5d3eIOOfoC5wZM1zNX8J4OxjB+uAabClTcTTE38VMHQhV9yBzNh5bcOZhr+8AOMlJ53ahiZ+SCDiZGPrgEGipa/TDCw8EmF5C58ljskFlZu6JBYwy1+QFKl56YaSc18IUNCI1+5BiRTtHxpQjILd1RI5MI9uUMSYeWuDkk03OdLJFB6HpiRwMxDI6KNPNYWiFS0PGFBpIWnXBDlwnPWgAhh5UkNIhR/zqogIiI3Q8uTJsTIeE4fEGXiGb5CFBdWntAhVul5aHaI5FzHI+2AeG7mgQwpDC13LUgj454+IJGFOyqkEnq+1CCdyvOF3CGhjtvaEim5nJsypFW23FAjtYzP+gLJ1XxSIb2i5y8NLFR8lDuYaHjPl7Dhct4ZYaX0/FbDzsgvfQFDNT9VsFT0vGlgq+KH3MFYQ9KXMOZcTo6wV/oa75AVEBEREREREREREREREfn//AVGzXiLe/zqiwAAAABJRU5ErkJggg==",footer="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAiYAAAAKBAMAAAByEYgRAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURf///////////////////////////////////////////////////1G6/RIAAAAMdFJOUxrytXP7SpfP49BImM+LArwAAAEfSURBVEjH7U7BTQQxDHQLtEALtEAL+aSA+1wBkTugg8gF5OMC9kMLFMWMnUVckO5AfDOrOF5nZjwiGz9QblFLHV6jGzWO44xSUHHQYICu+KngqDpZ1PCqFSrOceOXb4MzMkd6BDeqD2rcaVi5JTS5MWX88xkuYo0RHc1ydLY+/VPDrfBhVGYPSiZiTqajrU+rQllK5WVjhVxucVz+i+tq8mvL97uvf0t2fL+PjPWQOTnyvLFCmrZAV57eFECNr8VM48mUz6rNgoA3a7iNUuMQbW+9Tz9NR3adLMst0MDHDEYQ9CS2WBo1VrCAb7RUOlNnmtadi/n7Je0xzaXYGXGTyUE0Z4K5u5lRn3xaZN5YiCJvGyvkaWOFvG6skI+NFZ+db5GnlPUrwQAAAABJRU5ErkJggg==",SelectFieldWeb=function(a){var b=a.textColor,c=a.select,d=a.onValueChange,e=a.color,f=a.value,g=a.isPreview,h=a.editable,i=a.enabled,j=a.borderColor,k=a.backgroundColor,l=a.theme,m=(0,_objectWithoutProperties2.default)(a,["textColor","select","onValueChange","color","value","isPreview","editable","enabled","borderColor","backgroundColor","theme"]),n=(0,_react.useState)(""),o=(0,_slicedToArray2.default)(n,2),p=o[0],q=o[1],r=(0,_react.useState)(!1),s=(0,_slicedToArray2.default)(r,2),t=s[0],u=s[1],v=(0,_react.createRef)();(0,_react.useEffect)(function(){var a=function(a){v.current.contains(a.target)||u(!1)};return document.addEventListener("mousedown",a),function(){return document.removeEventListener("mousedown",a)}},[v]);var w=(0,_react.useMemo)(function(){return c.filter(function(a){return a.toLowerCase().includes(p.toLowerCase())})},[p,c]),x=function(a){return function(){d(a),u(!1)}};return _react.default.createElement("div",{ref:v,style:{width:"100%",position:"relative"}},_react.default.createElement(_reactNative.TextInput,(0,_extends2.default)({},m,{value:t?p:f,onChangeText:function _updateSearchInput(a){return q(a)},onFocus:function _onSelectFocus(){g||(u(!0),q(""),m.onFocus())},onBlur:m.onBlur,numberOfLines:1,maxLength:1e3,editable:h,enabled:i,selectionColor:e,underlineColorAndroid:"transparent",textAlignVertical:"top",placeholder:g?"":t?"Search...":"Select an option",style:[{color:b,borderColor:j,backgroundColor:k},styles.input]})),!g&&_react.default.createElement(_reactNative.Image,{pointerEvents:"none",style:styles.arrow,source:{uri:arrow}}),t&&!g&&_react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_reactNative.FlatList,{style:[styles.itemsContainer,{backgroundColor:k}],data:w,className:"select-container",renderItem:function renderItem(a){var c=a.item;return _react.default.createElement(_reactNative.TouchableOpacity,{key:c,onPress:x(c)},_react.default.createElement(_reactNative.Text,{className:"dark"===l?"select-item-dark":"select-item",style:[{color:b},styles.item]},c))},keyExtractor:function keyExtractor(a){return a},ListEmptyComponent:_react.default.createElement(_reactNative.Text,{style:styles.empty},"No results..."),ListFooterComponent:5<w.length?_react.default.createElement(_reactNative.View,{style:styles.divider}):_react.default.createElement(_reactNative.View,null)}),5<w.length&&_react.default.createElement(_reactNative.Image,{style:styles.blinder,source:{uri:footer}})))},styles=_reactNative.StyleSheet.create({input:{borderWidth:1,borderStyle:"solid",borderRadius:6,padding:13,marginVertical:6,width:"100%",fontSize:15},itemsContainer:{width:"100%",marginTop:-4,borderRadius:8,borderTopLeftRadius:0,borderTopRightRadius:0,flexDirection:"column",shadowColor:"#424d57",shadowRadius:10,shadowOpacity:.2,elevation:1,maxHeight:250,overflow:"web"===_reactNative.Platform.OS?"auto":"scroll",zIndex:99999},item:{paddingVertical:13,paddingHorizontal:12,fontSize:14},blinder:{position:"absolute",bottom:1,width:"99.5%",left:1,zIndex:999999,height:16,borderBottomLeftRadius:8,borderBottomRightRadius:8},divider:{height:8},empty:{paddingVertical:13,paddingHorizontal:12,color:_theme.colors.grey,fontSize:14},arrow:{position:"absolute",right:10,top:18,width:20,height:20}}),_default=(0,_react.memo)(SelectFieldWeb);exports.default=_default;