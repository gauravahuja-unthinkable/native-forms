var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_react=_interopRequireWildcard(require("react")),_reactNative=require("react-native"),_theme=require("../theme"),_icons=require("../assets/icons"),_Link=_interopRequireDefault(require("./Link")),_utils=require("../utils"),AcceptPolicy=function(a){var b=a.form,c=a.isPreview,d=b||{},e=d.color,f=void 0===e?_theme.colors.main:e,g=d.textColor,h=void 0===g?_theme.colors.primary:g,i=d.backgroundColor,j=void 0===i?_theme.colors.white:i,k=d.legal,l=k||{},m=l.terms,n=l.policy,o=(0,_utils.lightOrDark)(j),p=(0,_react.useState)(!!k.acceptedAt),q=(0,_slicedToArray2.default)(p,2),r=q[0],s=q[1],t={backgroundColor:r?f:j,borderColor:r?"transparent":"dark"===o?_theme.colors.white:_theme.colors.lightgrey,borderWidth:1,borderStyle:"solid"},u={fontSize:14,lineHeight:22,color:h},v={fontSize:14,color:f,fontWeight:"bold",lineHeight:"web"===_reactNative.Platform.OS?1.6:22};return _react.default.createElement(_reactNative.View,{style:styles.wrapper},_react.default.createElement(_reactNative.View,{style:styles.container},_react.default.createElement(_reactNative.TouchableOpacity,{onPress:function _onPermissionChange(){c||(k.acceptedAt?(delete k.acceptedAt,delete k.acceptedTimestamp,b.extraData=b.extraData||{},delete b.extraData["Terms and Policy accepted at"],s(!1)):(k.acceptedAt=new Date().toString(),k.acceptedTimestamp=new Date().getTime(),b.extraData=b.extraData||{},b.extraData["Terms and Policy accepted at"]=k.acceptedAt,s(!0)))},activeOpacity:.5,style:[styles.box,t]},r&&_react.default.createElement(_icons.CheckIcon,{size:14,color:_theme.colors.white})),_react.default.createElement(_reactNative.View,{style:styles.text},_react.default.createElement(_reactNative.Text,{style:u},"By completing this form you agree to our"," "),_react.default.createElement(_Link.default,{href:m,style:v,label:"Terms & Conditions"}),_react.default.createElement(_reactNative.Text,{style:u}," and "),_react.default.createElement(_Link.default,{href:n,style:v,label:"Policy Privacy."}))))},styles=_reactNative.StyleSheet.create({wrapper:{display:"flex",width:"100%",maxWidth:_theme.MAX_FORM_WIDTH,paddingVertical:12,paddingHorizontal:34},container:{display:"flex",flexDirection:"row",alignSelf:"flex-start",alignItems:"center"},box:{display:"flex",alignItems:"center",justifyContent:"center",width:18,height:18,borderRadius:2,marginRight:16},text:{flexDirection:"row",flexWrap:"wrap",maxWidth:.75*_theme.MAX_FORM_WIDTH}}),_default=(0,_react.memo)(AcceptPolicy);exports.default=_default;